Refactoring code from SBHacks hackathon
